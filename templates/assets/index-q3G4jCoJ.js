import{r as d,j as e,U as B,C as G,T as q,F as V,P as K,L as H,R as L,B as W,X as Y,Y as X,a as R,b as J,c as T,d as Q,e as Z,f as ee,g as se,S as te,h as F,E as ae,i as le,k as re,l as ie,m as oe,G as ne,n as de,o as ce,p as xe,q as M,s as U,A as me,t as pe,u as he,v as ue,w as ge}from"./vendor-DyWMfZ2N.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function l(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(t){if(t.ep)return;t.ep=!0;const i=l(t);fetch(t.href,i)}})();var w=(s=>(s.UPLOAD="UPLOAD",s.DASHBOARD="DASHBOARD",s))(w||{});const fe=s=>{const r=s.split(/\r?\n/),l=[];for(const c of r){if(!c.trim())continue;const t=c.split("	");t.length>=4&&l.push({id:t[0]||"N/A",packageName:t[1]||"Unknown",fileName:t[2]||"Unknown",errorCode:t[3]||"Unknown",description:t.slice(4).join("	")||"",raw:c})}return l},be=s=>{const r=new Map,l=new Map,c=new Set,t=new Map;s.forEach(o=>{r.set(o.packageName,(r.get(o.packageName)||0)+1),l.set(o.errorCode,(l.get(o.errorCode)||0)+1),c.add(o.fileName),t.has(o.errorCode)||t.set(o.errorCode,o.description)});const i=Array.from(r.entries()).map(([o,x])=>({name:o,value:x})).sort((o,x)=>x.value-o.value),m=Array.from(l.entries()).map(([o,x])=>({name:o,value:x})).sort((o,x)=>x.value-o.value);return{totalErrors:s.length,uniquePackages:r.size,uniqueFiles:c.size,uniqueCodes:l.size,byPackage:i,byCode:m,codeDescriptions:Object.fromEntries(t)}},je=({onFileLoaded:s})=>{const[r,l]=d.useState(!1),[c,t]=d.useState(null),i=d.useCallback(n=>{n.preventDefault(),l(!0)},[]),m=d.useCallback(n=>{n.preventDefault(),l(!1)},[]),o=n=>{if(!n)return;n.type&&!n.type.startsWith("text/")&&!n.name.endsWith(".tsv")&&n.name.endsWith(".txt");const h=new FileReader;h.onload=p=>{var v;const u=(v=p.target)==null?void 0:v.result;u?s(u,n.name):t("File is empty")},h.onerror=()=>t("Failed to read file"),h.readAsText(n)},x=d.useCallback(n=>{n.preventDefault(),l(!1),t(null);const h=n.dataTransfer.files[0];o(h)},[s]),j=n=>{var p;t(null);const h=(p=n.target.files)==null?void 0:p[0];h&&o(h)};return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full max-w-2xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-cyan-400 mb-4",children:"TypeScript Error Explorer"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Drop your TSV log file to analyze, filter, and solve errors efficiently."})]}),e.jsxs("div",{className:`w-full h-64 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center transition-all duration-300 cursor-pointer relative overflow-hidden group
          ${r?"border-indigo-500 bg-indigo-500/10 scale-[1.02]":"border-slate-700 bg-slate-900/50 hover:border-indigo-400/50 hover:bg-slate-800"}`,onDragOver:i,onDragLeave:m,onDrop:x,onClick:()=>{var n;return(n=document.getElementById("fileInput"))==null?void 0:n.click()},children:[e.jsx("input",{type:"file",id:"fileInput",className:"hidden",accept:".tsv,.txt,.csv",onChange:j}),e.jsxs("div",{className:"flex flex-col items-center z-10 p-6",children:[e.jsx("div",{className:`p-4 rounded-full mb-4 transition-colors ${r?"bg-indigo-500/20":"bg-slate-800 group-hover:bg-slate-700"}`,children:e.jsx(B,{className:`w-10 h-10 ${r?"text-indigo-400":"text-slate-400"}`})}),e.jsx("p",{className:"text-lg font-medium text-slate-200 mb-2",children:"Drag & drop your TSV file here"}),e.jsx("p",{className:"text-sm text-slate-500",children:"or click to browse filesystem"})]}),e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),e.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-cyan-500/10 rounded-full blur-3xl pointer-events-none"})]}),c&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-red-400 bg-red-950/30 px-4 py-2 rounded-lg border border-red-900/50",children:[e.jsx(G,{size:18}),e.jsx("span",{children:c})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 w-full text-slate-400 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/50 p-3 rounded-lg border border-slate-800",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500/10 flex items-center justify-center text-indigo-400 font-bold",children:"1"}),e.jsx("span",{children:"Export TS errors to TSV"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/50 p-3 rounded-lg border border-slate-800",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500/10 flex items-center justify-center text-indigo-400 font-bold",children:"2"}),e.jsx("span",{children:"Drag file into dropzone"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/50 p-3 rounded-lg border border-slate-800",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500/10 flex items-center justify-center text-indigo-400 font-bold",children:"3"}),e.jsx("span",{children:"Analyze & Fix with AI"})]})]})]})},D=["#6366f1","#8b5cf6","#ec4899","#f43f5e","#0ea5e9","#10b981"],E=({title:s,value:r,icon:l,color:c})=>e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-5 flex items-center gap-4 hover:border-slate-700 transition-colors",children:[e.jsx("div",{className:`p-3 rounded-lg ${c} bg-opacity-10 text-white`,children:l}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:s}),e.jsx("p",{className:"text-2xl font-bold text-slate-100",children:r.toLocaleString()})]})]}),_=({active:s,payload:r,label:l})=>s&&r&&r.length?e.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-3 rounded-lg shadow-xl",children:[e.jsx("p",{className:"text-slate-200 font-medium mb-1",children:l}),e.jsxs("p",{className:"text-indigo-400 text-sm",children:[r[0].value," Errors"]})]}):null,ve=({stats:s})=>{const r=s.byPackage.slice(0,10),l=s.byCode.slice(0,6),c=s.byCode.slice(0,12);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(E,{title:"Total Errors",value:s.totalErrors,icon:e.jsx(q,{className:"text-red-500",size:24}),color:"bg-red-500"}),e.jsx(E,{title:"Affected Files",value:s.uniqueFiles,icon:e.jsx(V,{className:"text-blue-500",size:24}),color:"bg-blue-500"}),e.jsx(E,{title:"Unique Packages",value:s.uniquePackages,icon:e.jsx(K,{className:"text-purple-500",size:24}),color:"bg-purple-500"}),e.jsx(E,{title:"Error Types",value:s.uniqueCodes,icon:e.jsx(H,{className:"text-emerald-500",size:24}),color:"bg-emerald-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-96",children:[e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 flex flex-col",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-6",children:"Top Packages by Errors"}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(L,{width:"100%",height:"100%",children:e.jsxs(W,{data:r,layout:"vertical",margin:{left:20,right:20},children:[e.jsx(Y,{type:"number",hide:!0}),e.jsx(X,{dataKey:"name",type:"category",width:120,tick:{fill:"#94a3b8",fontSize:12},interval:0}),e.jsx(R,{content:e.jsx(_,{}),cursor:{fill:"#1e293b"}}),e.jsx(J,{dataKey:"value",radius:[0,4,4,0],children:r.map((t,i)=>e.jsx(T,{fill:D[i%D.length]},`cell-${i}`))})]})})})]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 flex flex-col",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-6",children:"Error Code Distribution"}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(L,{width:"100%",height:"100%",children:e.jsxs(Q,{children:[e.jsx(Z,{data:l,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:l.map((t,i)=>e.jsx(T,{fill:D[i%D.length]},`cell-${i}`))}),e.jsx(R,{content:e.jsx(_,{})}),e.jsx(ee,{layout:"vertical",verticalAlign:"middle",align:"right",formatter:t=>e.jsx("span",{className:"text-slate-400 text-sm",children:t})})]})})})]})]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-200 mb-4 flex items-center gap-2",children:[e.jsx(se,{size:20,className:"text-indigo-400"}),"Top Error Codes Guide"]}),e.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Common error codes found in your log and their typical descriptions."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(t=>e.jsxs("div",{className:"flex flex-col p-4 rounded-lg bg-slate-950 border border-slate-800 hover:border-indigo-500/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"font-mono text-red-400 font-bold text-lg",children:t.name}),e.jsxs("span",{className:"text-xs font-medium bg-slate-800 text-slate-300 px-2 py-1 rounded-full border border-slate-700",children:[t.value," issues"]})]}),e.jsx("p",{className:"text-sm text-slate-400 line-clamp-3 leading-relaxed",title:s.codeDescriptions[t.name],children:s.codeDescriptions[t.name]||"No description available."})]},t.name))})]})]})},k=25,Ne=({data:s,onViewDetail:r})=>{const[l,c]=d.useState(""),[t,i]=d.useState("All"),[m,o]=d.useState("All"),[x,j]=d.useState("id"),[n,h]=d.useState("asc"),[p,u]=d.useState(1),v=d.useMemo(()=>["All",...Array.from(new Set(s.map(a=>a.packageName))).sort()],[s]),A=d.useMemo(()=>["All",...Array.from(new Set(s.map(a=>a.errorCode))).sort()],[s]),g=d.useMemo(()=>{let a=s;if(l){const b=l.toLowerCase();a=a.filter(C=>C.fileName.toLowerCase().includes(b)||C.description.toLowerCase().includes(b)||C.id.toLowerCase().includes(b))}return t!=="All"&&(a=a.filter(b=>b.packageName===t)),m!=="All"&&(a=a.filter(b=>b.errorCode===m)),a.sort((b,C)=>{const z=b[x],O=C[x];return z<O?n==="asc"?-1:1:z>O?n==="asc"?1:-1:0}),a},[s,l,t,m,x,n]),f=Math.ceil(g.length/k),y=g.slice((p-1)*k,p*k),N=a=>{x===a?h(n==="asc"?"desc":"asc"):(j(a),h("asc"))},S=({field:a})=>x!==a?e.jsx("div",{className:"w-4 h-4 ml-1 opacity-20"}):n==="asc"?e.jsx(ie,{className:"w-4 h-4 ml-1 text-indigo-400"}):e.jsx(oe,{className:"w-4 h-4 ml-1 text-indigo-400"});return e.jsxs("div",{className:"flex flex-col h-full bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-900/50 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search files or descriptions...",className:"w-full bg-slate-950 border border-slate-700 text-slate-200 text-sm rounded-lg pl-10 pr-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",value:l,onChange:a=>{c(a.target.value),u(1)}})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:[e.jsxs("div",{className:"relative min-w-[140px]",children:[e.jsx("select",{className:"appearance-none w-full bg-slate-950 border border-slate-700 text-slate-300 text-sm rounded-lg pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 cursor-pointer",value:t,onChange:a=>{i(a.target.value),u(1)},children:v.map(a=>e.jsx("option",{value:a,children:a==="All"?"All Packages":a},a))}),e.jsx(F,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4 pointer-events-none"})]}),e.jsxs("div",{className:"relative min-w-[140px]",children:[e.jsx("select",{className:"appearance-none w-full bg-slate-950 border border-slate-700 text-slate-300 text-sm rounded-lg pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 cursor-pointer",value:m,onChange:a=>{o(a.target.value),u(1)},children:A.map(a=>e.jsx("option",{value:a,children:a==="All"?"All Codes":a},a))}),e.jsx(F,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4 pointer-events-none"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-auto min-h-0",children:e.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[e.jsx("thead",{className:"bg-slate-950 text-slate-200 sticky top-0 z-10 font-medium",children:e.jsxs("tr",{children:[e.jsx("th",{onClick:()=>N("id"),className:"px-6 py-3 cursor-pointer hover:bg-slate-900 transition-colors w-24",children:e.jsxs("div",{className:"flex items-center",children:["ID ",e.jsx(S,{field:"id"})]})}),e.jsx("th",{onClick:()=>N("packageName"),className:"px-6 py-3 cursor-pointer hover:bg-slate-900 transition-colors w-48",children:e.jsxs("div",{className:"flex items-center",children:["Package ",e.jsx(S,{field:"packageName"})]})}),e.jsx("th",{onClick:()=>N("fileName"),className:"px-6 py-3 cursor-pointer hover:bg-slate-900 transition-colors w-64",children:e.jsxs("div",{className:"flex items-center",children:["File ",e.jsx(S,{field:"fileName"})]})}),e.jsx("th",{onClick:()=>N("errorCode"),className:"px-6 py-3 cursor-pointer hover:bg-slate-900 transition-colors w-32",children:e.jsxs("div",{className:"flex items-center",children:["Code ",e.jsx(S,{field:"errorCode"})]})}),e.jsx("th",{className:"px-6 py-3",children:"Description"}),e.jsx("th",{className:"px-6 py-3 w-16"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800/50",children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500",children:"No errors found matching your filters."})}):y.map(a=>e.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-3 font-mono text-slate-500 text-xs",children:a.id}),e.jsx("td",{className:"px-6 py-3",children:e.jsx("span",{className:"px-2 py-1 rounded bg-slate-800 text-slate-300 text-xs border border-slate-700 whitespace-nowrap",children:a.packageName})}),e.jsx("td",{className:"px-6 py-3 text-slate-300 truncate max-w-xs",title:a.fileName,children:a.fileName}),e.jsx("td",{className:"px-6 py-3",children:e.jsx("span",{className:"text-red-400 font-mono text-xs",children:a.errorCode})}),e.jsx("td",{className:"px-6 py-3 truncate max-w-md",title:a.description,children:a.description}),e.jsx("td",{className:"px-6 py-3 text-right",children:e.jsx("button",{onClick:()=>r(a),className:"p-1.5 rounded hover:bg-indigo-500/20 text-slate-500 hover:text-indigo-400 transition-colors",title:"View Details",children:e.jsx(ae,{size:16})})})]},a.id))})]})}),e.jsxs("div",{className:"px-6 py-3 border-t border-slate-800 bg-slate-900/50 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-slate-500",children:["Showing ",e.jsx("span",{className:"text-slate-300 font-medium",children:Math.min(g.length,(p-1)*k+1)})," to ",e.jsx("span",{className:"text-slate-300 font-medium",children:Math.min(g.length,p*k)})," of ",e.jsx("span",{className:"text-slate-300 font-medium",children:g.length})," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(Math.max(1,p-1)),disabled:p===1,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-30 disabled:hover:bg-transparent text-slate-400",children:e.jsx(le,{size:18})}),e.jsxs("span",{className:"text-xs text-slate-400 font-mono w-12 text-center",children:[p," / ",f||1]}),e.jsx("button",{onClick:()=>u(Math.min(f,p+1)),disabled:p===f||f===0,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-30 disabled:hover:bg-transparent text-slate-400",children:e.jsx(re,{size:18})})]})]})]})};var we={};const $=we.API_KEY||"";let P=null;$&&(P=new ne({apiKey:$}));const ye=async s=>{if(!P)return"API Key is missing. Please configure the environment to use AI features.";const r=`
    You are a TypeScript Expert. Explain the following error clearly and suggest how to fix it.
    
    Error Code: ${s.errorCode}
    File: ${s.fileName}
    Package: ${s.packageName}
    Description: ${s.description}
    
    Provide a concise explanation followed by a code fix example if applicable. Format with Markdown.
  `;try{return(await P.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text||"No response generated."}catch(l){return console.error("Gemini Error:",l),"Failed to analyze error. Please try again later."}},Ce=({content:s})=>e.jsx("div",{className:"prose prose-invert prose-sm max-w-none whitespace-pre-wrap font-sans text-slate-300",children:s}),ke=({entry:s,onClose:r})=>{const[l,c]=d.useState(null),[t,i]=d.useState(!1),[m,o]=d.useState(!1),x=async()=>{i(!0);const n=await ye(s);c(n),i(!1)},j=()=>{navigator.clipboard.writeText(`${s.errorCode}: ${s.description}
File: ${s.fileName}`),o(!0),setTimeout(()=>o(!1),2e3)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-3xl rounded-2xl shadow-2xl flex flex-col max-h-[90vh] animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-800",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-100",children:"Error Details"}),e.jsx("span",{className:"bg-red-500/10 text-red-400 border border-red-500/20 px-2 py-0.5 rounded text-xs font-mono",children:s.errorCode})]}),e.jsx("p",{className:"text-slate-500 text-sm font-mono",children:s.id})]}),e.jsx("button",{onClick:r,className:"text-slate-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-800",children:e.jsx(de,{size:20})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-950 p-4 rounded-lg border border-slate-800",children:[e.jsx("span",{className:"text-xs uppercase tracking-wider text-slate-500 font-semibold mb-1 block",children:"Package"}),e.jsx("div",{className:"text-slate-200 font-medium break-all",children:s.packageName})]}),e.jsxs("div",{className:"bg-slate-950 p-4 rounded-lg border border-slate-800",children:[e.jsx("span",{className:"text-xs uppercase tracking-wider text-slate-500 font-semibold mb-1 block",children:"File"}),e.jsx("div",{className:"text-slate-200 font-medium break-all font-mono text-sm",children:s.fileName})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs uppercase tracking-wider text-slate-500 font-semibold",children:"Description"}),e.jsxs("button",{onClick:j,className:"flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors",children:[m?e.jsx(ce,{size:12}):e.jsx(xe,{size:12}),m?"Copied":"Copy Error"]})]}),e.jsx("div",{className:"bg-slate-950 p-4 rounded-lg border border-slate-800 font-mono text-sm text-red-300/90 whitespace-pre-wrap leading-relaxed",children:s.description})]}),e.jsxs("div",{className:"border-t border-slate-800 pt-6",children:[!l&&!t&&e.jsxs("button",{onClick:x,className:"w-full py-4 rounded-xl border border-indigo-500/30 bg-indigo-500/10 hover:bg-indigo-500/20 text-indigo-300 font-medium transition-all flex items-center justify-center gap-2 group",children:[e.jsx(M,{size:18,className:"group-hover:animate-pulse"}),"Ask Gemini AI to Explain & Fix"]}),t&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-indigo-400 text-sm animate-pulse",children:"Analyzing with Gemini..."})]}),l&&e.jsxs("div",{className:"bg-slate-800/30 rounded-xl border border-indigo-500/20 overflow-hidden",children:[e.jsxs("div",{className:"bg-indigo-500/10 px-4 py-2 border-b border-indigo-500/10 flex items-center gap-2",children:[e.jsx(M,{size:14,className:"text-indigo-400"}),e.jsx("span",{className:"text-xs font-semibold text-indigo-300 uppercase tracking-wider",children:"AI Analysis"})]}),e.jsx("div",{className:"p-4 bg-slate-900/50",children:e.jsx(Ce,{content:l})})]})]})]})]})})},Ae=()=>{const[s,r]=d.useState(w.UPLOAD),[l,c]=d.useState([]),[t,i]=d.useState(""),[m,o]=d.useState("dashboard"),[x,j]=d.useState(null),[n,h]=d.useState(null),p=d.useMemo(()=>be(l),[l]),u=d.useCallback((A,g)=>{const f=fe(A);c(f),i(g),r(w.DASHBOARD)},[]);U.useEffect(()=>{(async()=>{try{const g=await fetch("./metadata.json");if(g.ok){const f=await g.json();h(f);const y=await fetch("./errors.tsv");if(y.ok){const N=await y.text();u(N,`Run: ${f.date} ${f.time}`);return}}}catch{console.log("Could not load metadata or errors from file system, checking global variable...")}window.__TS_ERROR_DATA__&&u(window.__TS_ERROR_DATA__,"Embedded Data")})()},[u]);const v=()=>{c([]),i(""),r(w.UPLOAD),o("dashboard")};return e.jsxs("div",{className:"flex flex-col h-screen bg-slate-950 text-slate-200",children:[e.jsxs("header",{className:"h-16 border-b border-slate-800 bg-slate-950 flex items-center justify-between px-6 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:"TS"}),e.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Error Explorer"}),t&&e.jsx("span",{className:"hidden md:inline-block ml-4 text-xs bg-slate-800 text-slate-400 px-2 py-1 rounded border border-slate-700 font-mono",children:t})]}),s===w.DASHBOARD&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:v,className:"text-slate-400 hover:text-white text-sm flex items-center gap-1 transition-colors",children:[e.jsx(me,{size:14})," Upload New"]}),e.jsx("a",{href:"#",className:"text-slate-500 hover:text-white transition-colors",title:"View Source",children:e.jsx(pe,{size:20})})]})]}),e.jsx("main",{className:"flex-1 overflow-hidden relative",children:s===w.UPLOAD?e.jsx(je,{onFileLoaded:u}):e.jsxs("div",{className:"h-full flex flex-col p-4 md:p-6 max-w-7xl mx-auto w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 bg-slate-900 p-1 rounded-lg border border-slate-800 w-fit self-center md:self-start",children:[e.jsxs("button",{onClick:()=>o("dashboard"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${m==="dashboard"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[e.jsx(he,{size:16})," Overview"]}),e.jsxs("button",{onClick:()=>o("list"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${m==="list"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[e.jsx(ue,{size:16})," Error List"]})]}),e.jsx("div",{className:"flex-1 min-h-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:m==="dashboard"?e.jsx("div",{className:"h-full overflow-y-auto pr-2 pb-4",children:e.jsx(ve,{stats:p})}):e.jsx(Ne,{data:l,onViewDetail:j})})]})}),x&&e.jsx(ke,{entry:x,onClose:()=>j(null)})]})},I=document.getElementById("root");if(!I)throw new Error("Could not find root element to mount to");const Se=ge.createRoot(I);Se.render(e.jsx(U.StrictMode,{children:e.jsx(Ae,{})}));
